(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(39)},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),l=n(2),o=n(41),u=n(12),s=n.n(u),m=function(e,t,n){return s.a.post("/api",{image:e,width:t,height:n}).then(function(e){return e.data})},d=function(e){var t=e.setProbabilities,n=Object(a.useState)(!1),c=Object(l.a)(n,2),i=c[0],u=c[1],s=r.a.createRef(),d=r.a.createRef(),f=function(){var e=d.current.getContext("2d");e.clearRect(0,0,28,28),e.drawImage(s.current,0,0,28,28)},h=function(e,t,n){e.beginPath(),e.arc(t,n,10,0,2*Math.PI,!1),e.fill()};return r.a.createElement("div",{className:"col",style:{margin:"20px"}},r.a.createElement("h2",null,"Draw your digit (0\u20139) here"),r.a.createElement("canvas",{style:{border:"1px solid black",cursor:"crosshair"},ref:s,width:224,height:224,onMouseDown:function(){u(!0)},onMouseUp:function(){u(!1),f()},onMouseMove:function(e){if(i){var t=s.current.getBoundingClientRect(),n=t.left,a=t.top,r=e.clientX-n,c=e.clientY-a,l=s.current.getContext("2d");h(l,r,c)}}}),r.a.createElement("br",null),r.a.createElement(o.a,{onClick:function(){s.current.getContext("2d").clearRect(0,0,224,224),d.current.getContext("2d").clearRect(0,0,28,28)}},"Clear"),r.a.createElement(o.a,{onClick:function(){f();var e=d.current.getContext("2d").getImageData(0,0,28,28),n=Array.prototype.slice.call(e.data).filter(function(e,t){return t%4===3});m(n,28,28).then(function(e){console.log("got response ".concat(JSON.stringify(e))),t(e.probabilities)})}},"Send"),r.a.createElement("br",null),r.a.createElement("canvas",{style:{border:"1px solid black",margin:"5px"},ref:d,width:28,height:28}),r.a.createElement("p",null,"Your digit in MNIST size (28\xd728 pixels)"))},f=function(e){var t=e.number,n=e.probability,a=(e.predicted,100*n),c="".concat(a.toFixed(2)," %"),i=30*t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{width:"200",height:"30",y:i},r.a.createElement("g",null,r.a.createElement("rect",{width:100,height:"20",style:{stroke:"black",strokeWidth:"1px",fill:"white"},x:"20",rx:"3",ry:"3"}),r.a.createElement("rect",{width:a,height:"20",style:{fill:"#0033FF"},x:"20",rx:"3",ry:"3"}),r.a.createElement("text",{fill:"black",x:"0",y:"15"},t),r.a.createElement("text",{fill:"black",x:"130",y:"15"},c))))},h=function(e){var t=e.probabilities,n=function(e){var t=0,n=0;return e.forEach(function(e,a){e>t&&(t=e,n=a)}),n}(t);return r.a.createElement("div",{className:"col",style:{margin:"20px"}},r.a.createElement("h3",null,"The digit you drew is ",n,"."),r.a.createElement("svg",{width:"250",height:"600"},t.map(function(e,t){return r.a.createElement(f,{key:t,number:t,probability:e,predicted:t===n})})))},g=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(d,{setProbabilities:c}),n&&r.a.createElement(h,{probabilities:n})))};i.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.db4c709a.chunk.js.map